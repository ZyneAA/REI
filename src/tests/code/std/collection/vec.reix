expose class Vec {

    init() {
        this.vec = _Co_new_vec();
    }

    // Push to the vec
    push(val) {

        if (@exist("vec")) {
            _Co_push_to_vec(this.vec, val);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Pop from vec
    pop() {

        if (@exist("vec")) {
            return _Co_pop_from_vec(this.vec);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Append to a vec
    append(target) {

        let target_type = @typeof(target, "Vec");
        if (target_type == false) {
            fatal "Can only append to Vec";
        }

        if (@exist("vec")) {
            _Co_append_to_vec(this.vec, target.vec);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Clear the current vec
    clear() {

        if (@exist("vec")) {
            _Co_clear_vec(this.vec);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    is_empty() {

        if (@exist("vec")) {
            return _Co_vec_is_empty(this.vec);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Split the vec at given index
    split(index) {

        if (@exist("vec")) {
            return _Co_split_vec(this.vec, index);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Length of vec
    len() {

        if (@exist("vec")) {
            return _Co_vec_len(this.vec);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Get the item from given index
    get(index) {

        if (@exist("vec")) {
            return _Co_vec_get(this.vec, index);
        } else {
            fatal "Property 'vec' not found";
        }

    }

    // Deep clone the current vec
    clone() {

        let new_vec = Vec();
        if (@exist("vec")) {
            new_vec.vec = _Mi_clone(this.vec);
        } else {
            fatal "Property 'vec' not found";
        }
        return new_vec;

    }

}
